"3.8.3 (created: 2014/11/09 13:19:01)

source! /home/jachin/.vimperatorrc.local

" vim: set ft=vimperator:

:let mapleader=","
"map , <Leader>

set gui=nobookmarks
set scrollbars=false
set noscrollbasr
set tabnumbers
:map B :dia bookmarks<CR>

noremap q gT
noremap w gt

noremap j 3j
noremap k 3k

"collect status always 'a'.
noremap a A


highlight Hint font: bold 15px "Droid Sans Mono", monospace !important;
margin:-.2ex;padding: 0 0 0 1px; outline: 1px solid rgba(0, 0, 0, .5); 
background: rgba(255, 248, 231, .8);
color: red; 
text-transform: lowercase;
:set hc=hjklasdgyuiopqwertnmzxcvb

noremap <leader>fy :tabopen http://fanyi.youdao.com/<CR>
noremap <leader>gf :tabopen http://www.gfsoso.com/<CR>
noremap <leader>tb :tabopen http://www.baidu.com/<CR>
noremap <leader>ev :tabopen https://app.yinxiang.com/Home.action<CR>
noremap <leader>gh :tabopen http://github.com<CR>

set nextpattern=\s*下一页|下一张|下一篇|下页|后页\s*,^\bnext\b,\\bnext\\b,^>$,^(>>|»)$,^(>|»),(>|»)$,\\bmore\\b
set previouspattern=\s*上一页|上一张|上一篇|上页|前页\s*,^\bprev|previous\b,\\bprev|previous\\b,^<$,^(<<|«)$,^(<|«),(<|«)$

js <<EOF

function hello_world() {
	alert("Hello world!");
}

function search_box_go_bing() {
	var c=window.content.document.getElementById("lst-ib").value;
	liberator.execute(":t bing " + c);
}

function toggle_flash() {
  var oldvar = options.getPref('plugin.state.flash');
  if (oldvar > 0)
    liberator.echo('flash-plugin disabled.');
  else
    liberator.echo('flash-plugin enabled.');
  options.setPref('plugin.state.flash', 2-oldvar);
}

function go_gitlab(args){
         var x
         var str=args
         var word=str.split(" ")
         var url=""
         var codearray = new Array()
         for (x in word){
             codearray.push(word[x]);
             }
         if (codearray[0] == "-g"){
            liberator.execute("topen "+url+codearray[1]+"/"+codearray[2]);
            return;
            }
         liberator.execute("topen "+url+"search?search="+codearray[0]);
}

function go_github(args){
         var x
         var str=args
         var word=str.split(" ")
         var url="https://github.com/"
         var searcharray = new Array()
         for (x in word){
             searcharray.push(word[x]);
         }
         if (searcharray[0] == "-g"){
            liberator.execute("topen "+url+searcharray[1]+"/"+searcharray[2]);
            return;
         }
         liberator.execute("topen "+url+"search?q="+searcharray[0]);
}
EOF

command! test js hello_world();

command! flashtoggle :js toggle_flash()
nnoremap <C-F> :flashtoggle<CR>

command! pin :set apptab
command! unpin :set noapptab

command! localhost -nargs=* open http://localhost:<args>
command! bing js bing_search_keyword();
command! gfsoso -nargs=* topen http://www.gfsoso.com/?q=<args>
command! evernote open https://app.yinxiang.com/Home.action
command! searchcode -nargs=* https://searchcode.com/?q=<args>
command! youdao -nargs=* topen fanyi.youdao.com/translate?i=<args>
command! stack -nargs=* topen http://stackoverflow.com/search?q=<args>
command! github -nargs=* js go_github("<args>");
command! code -nargs=* js go_gitlab("<args>");

map <C-w> :js search_box_go_bing() <CR>
